<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - Student Performance Analytics</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <i data-lucide="graduation-cap"></i>
            <span>Edu Track - Student Portal</span>
        </div>
        <div class="nav-links">
            <button class="btn btn-outline" onclick="navigateTo('student_login.html')">Switch Student</button>
            <button class="btn btn-outline" onclick="navigateTo('index.html')">Home</button>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard-header">
            <h1>Welcome, <span id="studentName">Student</span>!</h1>
            <p>Here's your academic performance overview</p>
        </div>

        <!-- Performance Overview - Dynamically created by JavaScript -->
        <div id="performanceOverview" class="dashboard-section">
            <h2>Performance Overview</h2>
            <!-- Content will be populated by JavaScript -->
        </div>

        <!-- Subject Performance - Dynamically created by JavaScript -->
        <div id="subjectPerformance" class="dashboard-section">
            <h2>Subject Performance</h2>
            <!-- Content will be populated by JavaScript -->
        </div>

        <!-- Recent Progress - Dynamically created by JavaScript -->
        <div id="recentProgress" class="dashboard-section">
            <h2>Recent Progress</h2>
            <!-- Content will be populated by JavaScript -->
        </div>

        <!-- Action Buttons -->
        <div class="dashboard-grid">
            <div class="dashboard-card" onclick="viewDetailedReport()">
                <div class="card-icon">
                    <i data-lucide="file-text"></i>
                </div>
                <h3>View Detailed Report</h3>
                <p>Complete performance analysis with interactive charts</p>
            </div>

            <div class="dashboard-card" onclick="downloadPDF()">
                <div class="card-icon">
                    <i data-lucide="download"></i>
                </div>
                <h3>Download PDF Report</h3>
                <p>Get your complete academic report as PDF</p>
            </div>

            <div class="dashboard-card" onclick="navigateTo('subject_improvement.html')">
                <div class="card-icon">
                    <i data-lucide="target"></i>
                </div>
                <h3>Improvement Tips</h3>
                <p>Personalized study recommendations</p>
            </div>

            <div class="dashboard-card" onclick="navigateTo('subject_improvement.html')">
                <div class="card-icon">
                    <i data-lucide="target"></i>
                </div>
                <h3>Subject Improvement</h3>
                <p>Get personalized tips for weak subjects</p>
            </div>

            <div class="dashboard-card">
                <div class="card-icon">
                    <i data-lucide="trophy"></i>
                </div>
                <h3>Achievements</h3>
                <p>View your academic achievements</p>
            </div>
        </div>

        <!-- Performance Badge -->
        <div class="performance-badge-section">
            <h2>Your Performance Badge</h2>
            <div id="performanceBadge" class="badge-container">
                <!-- Badge will be populated here -->
            </div>
        </div>

        <div class="stats-section">
            <h2>Quick Stats</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="currentGrade">N/A</div>
                    <div class="stat-label">Current Grade</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="overallPercentage">0%</div>
                    <div class="stat-label">Overall Percentage</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="classRank">#0</div>
                    <div class="stat-label">Class Rank</div>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <h2>Performance Overview</h2>
            <div class="charts-grid">
                <div class="chart-card">
                    <h3>Subject Performance</h3>
                    <div class="chart-container">
                        <canvas id="subjectChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h3>Recent Progress</h3>
                    <div class="chart-container">
                        <canvas id="progressChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="recent-activity">
            <h2>Recent Activity</h2>
            <div class="activity-list">
                <div class="activity-item">
                    <div class="activity-icon">
                        <i data-lucide="check-circle"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Marks Updated</h4>
                        <p>Your latest assessment marks have been added</p>
                        <span class="activity-time">2 days ago</span>
                    </div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon">
                        <i data-lucide="file-text"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Report Generated</h4>
                        <p>Your performance report was viewed</p>
                        <span class="activity-time">1 week ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            loadStudentDashboard();
        });

        function viewDetailedReport() {
            navigateTo('view_report.html');
        }
    </script>
</body>
</html>